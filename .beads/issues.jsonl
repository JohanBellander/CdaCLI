{"id":"CDATool-0nz","content_hash":"8daebe53febf1bc6cce48991b6a86b90442289ed2aa34d592dd6705967a2b71d","title":"Prompt Assembler: Metrics (Char Count \u0026 Token Heuristic)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T09:40:13.8024781+01:00","updated_at":"2025-11-08T10:21:46.4662294+01:00","closed_at":"2025-11-08T10:21:46.4662294+01:00","dependencies":[{"issue_id":"CDATool-0nz","depends_on_id":"CDATool-xfm","type":"discovered-from","created_at":"2025-11-08T09:40:13.8094136+01:00","created_by":"unknown"}]}
{"id":"CDATool-0xi","content_hash":"fa141e1e7710054ec546127b37b95b45de338aedfbb6636f2c439209b4748d5c","title":"Prompt Assembler: Metadata \u0026 Banner","description":"Inject banner line, run_id (uuid v4), instruction_format_version, agent_name, agent_model (if present), token_estimate_method. Unit tests: presence of all fields; legacy mode absence check.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:39:06.8663126+01:00","updated_at":"2025-11-08T10:06:32.9505152+01:00","closed_at":"2025-11-08T10:06:32.9505152+01:00","dependencies":[{"issue_id":"CDATool-0xi","depends_on_id":"CDATool-xfm","type":"discovered-from","created_at":"2025-11-08T09:39:06.8748639+01:00","created_by":"unknown"}]}
{"id":"CDATool-1am","content_hash":"a0a1a1c151eff4181a28feaf104868eed0a9d1e87fbc946f6bb30fe658877099","title":"Task: Snapshot \u0026 unit tests for new fields","description":"Tests: Update snapshot and add unit tests verifying presence/defaults of new fields, single occurrence of sentinel markers, header disclaimers, constraint header prefix, action blocks. Acceptance: all tests pass; failing test names show missing element if removed.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-07T22:16:46.922148+01:00","updated_at":"2025-11-08T06:55:22.7051792+01:00","closed_at":"2025-11-08T06:55:22.7051792+01:00","dependencies":[{"issue_id":"CDATool-1am","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:16:46.9271785+01:00","created_by":"unknown"}]}
{"id":"CDATool-2is","content_hash":"5be0bc3a8d6784ea42ae8010a5098ef250f006782faaa6e995f6e428c76202f7","title":"Feat: Sentinel markers \u0026 section separation","description":"Insert sentinel markers: BEGIN/END CDA INSTRUCTIONS and BEGIN/END EXPECTED AGENT REPORT FORMAT. Acceptance: snapshot shows both pairs exactly once.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T22:15:12.1483232+01:00","updated_at":"2025-11-08T06:44:51.7337616+01:00","closed_at":"2025-11-08T06:44:51.7337616+01:00","dependencies":[{"issue_id":"CDATool-2is","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:15:12.1557051+01:00","created_by":"unknown"}]}
{"id":"CDATool-2wc","content_hash":"3de745c52f9e7d735bc6bef4f2cb8bcfa79bc44f50f2612f0f605307a7b69db5","title":"Feature: Arg Mode Support (Copilot Non-Interactive)","description":"Feature delivering arg execution mode for agents using inline prompt passing. Scope: extend agentConfig.mode ('stdin'|'arg'), implement buildAgentCommandPlan creating either inline '-p \u003cprompt\u003e' or file-based fallback when Windows length threshold exceeded, integrate promptArgFlag/promptFileArg overrides, ensure tests: (1) arg-inline path includes -p with entire prompt; (2) stdin path unchanged for other agents; (3) long prompt triggers file fallback message on Windows; (4) max_length still enforced before spawn; (5) legacy-format still suppresses banner/directive/metrics. Acceptance: all related task beads closed (5q1,a08,3gx,cne,g27,z76,4a4), documentation updated, bug bead e6t closed.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-08T11:16:07.057145+01:00","updated_at":"2025-11-08T13:13:49.9072904+01:00","closed_at":"2025-11-08T11:28:30.4135344+01:00","dependencies":[{"issue_id":"CDATool-2wc","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T11:16:07.0630048+01:00","created_by":"unknown"}]}
{"id":"CDATool-3gx","content_hash":"ba2c4b447852f3dd5a81eecc994b4806cd6a726b8ec4de2a5a44f5e2a36e7307","title":"Task: Update sample cda.agents.json \u0026 init scaffolding for 'arg'","description":"Update init scaffolding: generate cda.agents.json with copilot arg mode (command 'copilot', args ['--model','gpt-5','--allow-all-tools'], mode 'arg') and echo stdin agent. Ensure idempotent behavior: existing file untouched, --no-agents flag skips creation. Acceptance: init tests show updated sample config structure and correct mode fields.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T11:16:39.7855415+01:00","updated_at":"2025-11-08T13:14:35.7880089+01:00","closed_at":"2025-11-08T11:29:43.1985594+01:00","dependencies":[{"issue_id":"CDATool-3gx","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T11:16:39.79276+01:00","created_by":"unknown"}]}
{"id":"CDATool-3oe","content_hash":"c03415f91621aa5c247fe3eaf83580a72c6ce7adf4a2f760e8f1b7072566368d","title":"Task: Optional legacy format flag (deferred)","description":"Optional --legacy-format flag to produce previous simpler output (deferred). Acceptance: implemented only if needed; default new format unaffected.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-07T22:17:15.4062449+01:00","updated_at":"2025-11-08T07:00:04.8823388+01:00","closed_at":"2025-11-08T07:00:04.8823388+01:00","dependencies":[{"issue_id":"CDATool-3oe","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:17:15.4127966+01:00","created_by":"unknown"}]}
{"id":"CDATool-432","content_hash":"3e5ac53fbcada74262915e2702279b958709a70b1e2e2d2de8b3beb716345964","title":"Init: Echo Agent Fallback Behavior","description":"Ensure echo agent included in scaffold; document that selecting --agent echo simply prints prompt (no evaluation). Test: dry-run echo includes agent_name echo; execution prints identical content (simulate with spawn stub).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T09:44:02.2230671+01:00","updated_at":"2025-11-08T10:46:40.6932818+01:00","closed_at":"2025-11-08T10:46:40.6932818+01:00","dependencies":[{"issue_id":"CDATool-432","depends_on_id":"CDATool-e5g","type":"discovered-from","created_at":"2025-11-08T09:44:02.2296284+01:00","created_by":"unknown"}]}
{"id":"CDATool-4a4","content_hash":"ab48cd47d1c1fe42ab19dd39acb180146ab9d29de4aa53b25753f348573c9699","title":"Task: Windows quoting \u0026 long command line fallback (write prompt to temp file if \u003e8K chars)","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-08T11:17:26.3773755+01:00","updated_at":"2025-11-08T11:49:20.4052147+01:00","closed_at":"2025-11-08T11:49:20.4052147+01:00","dependencies":[{"issue_id":"CDATool-4a4","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T11:17:26.3824792+01:00","created_by":"unknown"}]}
{"id":"CDATool-4e1","content_hash":"d94fb24dae9560e3e02ec7471813ff737b9fcb7d8781955d9dff47858185616f","title":"Agent Cmd: Flag Parsing \u0026 Help Output","description":"Implement flag parsing (--constraint, --sequential, --agent, --dry-run, --no-exec, --output, --legacy-format). Display concise help when invoked with --help or invalid flag. Acceptance: all flags recognized; unknown flag produces CONFIG_ERROR with suggestion.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:40:53.4133082+01:00","updated_at":"2025-11-08T10:16:22.4831804+01:00","closed_at":"2025-11-08T10:16:22.4831804+01:00","dependencies":[{"issue_id":"CDATool-4e1","depends_on_id":"CDATool-kmz","type":"discovered-from","created_at":"2025-11-08T09:40:53.4183067+01:00","created_by":"unknown"}]}
{"id":"CDATool-4ei","content_hash":"c28d269726d14eaaf9ae999f64818e5cf701396b2a9577459d7d06a5e078fb0a","title":"Error taxonomy \u0026 exit codes","description":"Implement centralized error taxonomy: helper for raising FATAL, CONFIG_ERROR, BUNDLE_ERROR, IO_ERROR with message + exit code mapping. Acceptance: each path covered by unit tests simulating triggers; process exit codes align with spec (1).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-07T20:36:58.6627982+01:00","updated_at":"2025-11-07T21:31:23.9669807+01:00","closed_at":"2025-11-07T21:31:23.9669807+01:00","dependencies":[{"issue_id":"CDATool-4ei","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:36:58.6677988+01:00","created_by":"unknown"}]}
{"id":"CDATool-5ej","content_hash":"01bd786109f62f75a6aecbb5d12fd4f0b330ebfbcb736cacd568db4b9cf97e6b","title":"Define core types (types.ts)","description":"Implement src/core/types.ts containing interfaces: ConstraintMeta, InstructionConstraintBlock, BatchInstructionPackage, SingleInstructionPackage, BatchReportTemplate, SequentialReportTemplate. Acceptance: exported types compile, used later by loader/emitter.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T20:31:24.7952323+01:00","updated_at":"2025-11-07T21:05:27.8274274+01:00","closed_at":"2025-11-07T21:05:27.8274274+01:00","dependencies":[{"issue_id":"CDATool-5ej","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:31:24.8011217+01:00","created_by":"unknown"}]}
{"id":"CDATool-5q1","content_hash":"8b0cf391477ca3500e6182be7d1be836a61f85bb6617e5f2bf3519ae89dd4b70","title":"Task: Implement 'arg' mode (agentConfig \u0026 execution)","description":"Implement arg mode: add 'arg' to AgentExecutionMode union, parse prompt_arg_flag and prompt_file_arg, in agent command buildAgentCommandPlan choose '-p' inline or '--prompt-file' + temp file on Windows length breach (\u003e ~8000 chars). Ensure spawn uses stdio ignore for stdin when arg mode, pipe when stdin mode. Acceptance: plan object returns promptDelivery 'arg-inline' or 'arg-file', tests cover both.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T11:16:18.5501343+01:00","updated_at":"2025-11-08T13:14:07.9080619+01:00","closed_at":"2025-11-08T11:28:49.8729014+01:00","dependencies":[{"issue_id":"CDATool-5q1","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T11:16:18.5587669+01:00","created_by":"unknown"}]}
{"id":"CDATool-619","content_hash":"fb151a0b37b213466ab12fb1f63059416db1b6884f520d89e2235aaa0abffc7d","title":"Agent Config: JSON Parse \u0026 Validation","description":"Implement agentConfig loader: read cda.agents.json, validate schema (agents map, command:string, args:string[], mode  {stdin}, optional max_length:number, prompt_preamble:string, postscript:string). Fail with CONFIG_ERROR on: missing file (handled gracefully upstream), invalid JSON, unsupported mode, empty agents map, unknown selected agent. Provide typed interface + unit tests stub placeholder.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:37:04.4590688+01:00","updated_at":"2025-11-08T10:00:08.9878863+01:00","closed_at":"2025-11-08T10:00:08.9878863+01:00","dependencies":[{"issue_id":"CDATool-619","depends_on_id":"CDATool-nxa","type":"discovered-from","created_at":"2025-11-08T09:37:04.4653604+01:00","created_by":"unknown"}]}
{"id":"CDATool-6la","content_hash":"57f4b9194d32dc0530689680e78468f6651415c827cdf58d18d96301875cdb6d","title":"Task: Update README and CDA.md disclaimer","description":"Docs: Update README with instruction-only disclaimer + updated output example; add brief note in CDA.md generation about validate producing instructions only. Acceptance: examples reflect new fields and sentinel markers.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T22:16:25.2662148+01:00","updated_at":"2025-11-08T06:57:13.9618792+01:00","closed_at":"2025-11-08T06:57:13.9618792+01:00","dependencies":[{"issue_id":"CDATool-6la","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:16:25.2712843+01:00","created_by":"unknown"}]}
{"id":"CDATool-6md","content_hash":"023951f2705fdfc69ab9e102972a076be24c31dc64236e3e4fbae28e069e2f7d","title":"Agent Cmd: Stdin Spawn \u0026 Error Mapping","description":"Spawn child process with stdio pipe; write prompt to stdin; stream stdout/stderr. Map ENOENT to FATAL error exit code, non-zero child still exit 0 (spec). Tests: mock spawn success, ENOENT failure, verify prompt not printed again during execution.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:42:27.0749495+01:00","updated_at":"2025-11-08T10:18:25.0803458+01:00","closed_at":"2025-11-08T10:18:25.0803458+01:00","dependencies":[{"issue_id":"CDATool-6md","depends_on_id":"CDATool-kmz","type":"discovered-from","created_at":"2025-11-08T09:42:27.0805336+01:00","created_by":"unknown"}]}
{"id":"CDATool-6xf","content_hash":"e32a0069089f005e289a4fbab66cdf9ac7a9bee39b09273de1f0cc5c18e606a6","title":"Feat: Expanded agent report skeleton fields","description":"Extend skeleton with new fields (constraint_blocks_received, initial_violation_count, remaining_violation_count, revalidation_attempts_used, success_conditions, self_audit, agent_execution_signature). Acceptance: fields present with placeholder defaults; tests assert keys.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T22:15:24.8200011+01:00","updated_at":"2025-11-08T06:48:58.6772444+01:00","closed_at":"2025-11-08T06:48:58.6772444+01:00","dependencies":[{"issue_id":"CDATool-6xf","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:15:24.825001+01:00","created_by":"unknown"}]}
{"id":"CDATool-7l9","content_hash":"227a084f82485539bc10eb9beed16804fc862fb6de5a4c4a99599695d807ffbc","title":"Task: Document Copilot CLI install \u0026 fallback instructions","description":"Copilot CLI install \u0026 fallback docs: add README section detailing installation (official docs, package managers), PATH verification commands ('where copilot' Windows, 'which copilot' Unix), guidance to use full absolute path in cda.agents.json if shim resolution fails, and fallback strategy (switch to echo agent / stdin mode) when long prompts exceed inline limit or file-flag unsupported. Acceptance: README gains section with heading 'Copilot CLI Setup' including commands and no TODO markers; references security bead z76; cross-links feature bead 2wc for arg mode details.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T13:10:08.7878897+01:00","updated_at":"2025-11-08T13:23:29.7450721+01:00","closed_at":"2025-11-08T13:23:29.7450721+01:00","dependencies":[{"issue_id":"CDATool-7l9","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T13:10:08.7954096+01:00","created_by":"unknown"}]}
{"id":"CDATool-7pl","content_hash":"680758c8f111ed9c8b52839b37759b69500f9ebaaec5d4a2328f62a7404c5136","title":"Agent Config: Default Agent Resolution","description":"Resolution order: explicit --agent \u003cname\u003e \u003e config.default \u003e 'copilot' if present. On unresolved return CONFIG_ERROR unknown agent. Add tests for: explicit selection, fallback to default, fallback to copilot, error when none exist.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T09:38:30.8664392+01:00","updated_at":"2025-11-08T10:21:07.4134145+01:00","closed_at":"2025-11-08T10:21:07.4134145+01:00","dependencies":[{"issue_id":"CDATool-7pl","depends_on_id":"CDATool-nxa","type":"discovered-from","created_at":"2025-11-08T09:38:30.8727524+01:00","created_by":"unknown"}]}
{"id":"CDATool-7th","content_hash":"34d9a3e788195d3c9c3363db4a02f998a2a5c93e0b3def755ba00a8513fc6edf","title":"Task: Update CDA.md workflow to prefer 'cda agent' over 'cda validate' for prompt generation","description":"Update CDA.md workflow: replace all prompt-generation steps using 'cda validate' with 'cda agent --dry-run' (batch) and 'cda agent --constraint \u003cid\u003e' for focused prompts. Include rationale (agent adds metadata + directive block) and note legacy mode example. Acceptance: CDA.md diff shows no remaining instructional references to using 'cda validate' for prompt generation except historical context section; build/tests unchanged; close when merged.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T13:00:26.0952276+01:00","updated_at":"2025-11-08T13:22:45.9594471+01:00","closed_at":"2025-11-08T13:22:45.9594471+01:00","dependencies":[{"issue_id":"CDATool-7th","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T13:00:26.1019528+01:00","created_by":"unknown"}]}
{"id":"CDATool-7um","content_hash":"e70101d86c6987fa513c547dbdaa889829609eba5e90643efabb30c55cf96cc9","title":"Optional constraint support","description":"Deliver config-driven optional constraint toggling so instruction packages only include active rules.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-09T11:34:36.0150102+01:00","updated_at":"2025-11-09T12:13:24.9173034+01:00","closed_at":"2025-11-09T12:13:24.9173034+01:00"}
{"id":"CDATool-7um.1","content_hash":"3b869ff687b64896b08f7fdbfe3fad99485877e24dec227bb4bb0d972f8f1be6","title":"Update CLI UX for optional constraints","description":"Expose optional constraint state via cda list/status columns, guard describe/validate/agent against disabled ids, and surface disabled constraint metadata in prompts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T11:36:00.5440657+01:00","updated_at":"2025-11-09T12:06:04.1243594+01:00","closed_at":"2025-11-09T12:06:04.1243594+01:00"}
{"id":"CDATool-7um.2","content_hash":"92327356171aced95ee0e374191fa6aa907df0ca2e7d0b63476d87e107c484b1","title":"Refresh init scaffolding and docs for optional constraints","description":"Emit constraint_overrides in cda.config.json, tag optional items in CDA.md, and document toggle workflow across spec/README.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T11:36:18.2517873+01:00","updated_at":"2025-11-09T12:11:09.2346443+01:00","closed_at":"2025-11-09T12:11:09.2346443+01:00"}
{"id":"CDATool-7um.3","content_hash":"dc133136bbc42f9ab2633b574e2b4b955d8dfc1a4479fc41ce9c699da7b51f60","title":"Expand tests for optional constraint flows","description":"Add Vitest coverage, CLI integration checks, and fixtures verifying active/disabled combinations across validate and agent flows.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-09T11:36:37.6280903+01:00","updated_at":"2025-11-09T12:02:30.7320532+01:00","closed_at":"2025-11-09T12:02:30.7320532+01:00"}
{"id":"CDATool-7um.4","content_hash":"d12f48053057a472f3084bd8b5d9f2f5c4d675c0155f6543d049e1d09c13c0ae","title":"Publish optional constraint release notes","description":"Update changelog, bump package version, and draft release guidance emphasizing optional constraint configuration defaults.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T11:36:57.7047634+01:00","updated_at":"2025-11-09T12:12:57.501729+01:00","closed_at":"2025-11-09T12:12:57.501729+01:00"}
{"id":"CDATool-80h","content_hash":"6fc9da558a7d0996bacdf939211f54e9967b5d57d190646d887c0176ba1c2a5e","title":"Legacy Mode: Suppress Banner/Directive/Metrics","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T09:44:24.008367+01:00","updated_at":"2025-11-08T10:23:35.7914147+01:00","closed_at":"2025-11-08T10:23:35.7914147+01:00","dependencies":[{"issue_id":"CDATool-80h","depends_on_id":"CDATool-cjz","type":"discovered-from","created_at":"2025-11-08T09:44:24.0142587+01:00","created_by":"unknown"}]}
{"id":"CDATool-87t","content_hash":"d5958ac11b7d886e851b602b4f29bbfa9f00f1fbff94cfff6f9a4727d69c95e8","title":"Agent Config: Max Length Enforcement","description":"Integrate max_length check in prompt assembly: compute original_char_count before spawn; if length \u003e max_length emit CONFIG_ERROR with values and abort. Unit test for edge: length exactly == max_length (pass), length == max_length+1 (fail).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T09:37:44.5305976+01:00","updated_at":"2025-11-08T10:20:32.0511192+01:00","closed_at":"2025-11-08T10:20:32.0511192+01:00","dependencies":[{"issue_id":"CDATool-87t","depends_on_id":"CDATool-nxa","type":"discovered-from","created_at":"2025-11-08T09:37:44.5361839+01:00","created_by":"unknown"}]}
{"id":"CDATool-8nj","content_hash":"69f02b2230cadc95c783b45b1f1cc0cdf351d30b3382873c0b93cf259960e262","title":"Agent Cmd: Single vs Batch Instruction Selection","description":"Implement selection logic: if --constraint present load single; else if --sequential pick first recommended; else batch. Validate constraint id existence else CONFIG_ERROR. Tests: single constraint char count smaller than batch; sequential alias correctness.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:41:18.0169334+01:00","updated_at":"2025-11-08T10:16:51.235132+01:00","closed_at":"2025-11-08T10:16:51.235132+01:00","dependencies":[{"issue_id":"CDATool-8nj","depends_on_id":"CDATool-kmz","type":"discovered-from","created_at":"2025-11-08T09:41:18.0254954+01:00","created_by":"unknown"}]}
{"id":"CDATool-9dl","content_hash":"ecb4a8a851690317ac266ead638cca70b5c6bffa0970306f3ea3c200c0d5cabb","title":"README: usage \u0026 agent workflow","description":"Draft README: install, Node version, quick start (init/list/describe/validate examples), philosophy (zero violations), integration with AI agent, troubleshooting common errors. Acceptance: no TODO placeholders; examples mirror current CLI output format.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T20:39:36.5804099+01:00","updated_at":"2025-11-07T21:35:06.1779728+01:00","closed_at":"2025-11-07T21:35:06.1779728+01:00","dependencies":[{"issue_id":"CDATool-9dl","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:39:36.5905297+01:00","created_by":"unknown"}]}
{"id":"CDATool-9wz","content_hash":"129b960b1d5fbe6373fc04bcaa360e3ef8597e9770697a4cb4ba1651153567e8","title":"Documentation \u0026 Release (README, Changelog, Version Bump)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-08T09:36:00.7563888+01:00","updated_at":"2025-11-08T10:47:46.4408992+01:00","closed_at":"2025-11-08T10:47:46.4408992+01:00","dependencies":[{"issue_id":"CDATool-9wz","depends_on_id":"CDATool-ryh","type":"discovered-from","created_at":"2025-11-08T09:36:00.7634307+01:00","created_by":"unknown"}]}
{"id":"CDATool-a08","content_hash":"f85da8bd0d6a2d055ff8bbd31bcafa71381c6ab13f9d23c400420056d70addc9","title":"Task: Tests for arg mode (no stdin write, -p flag, max_length unaffected)","description":"Tests for arg mode: verify command line contains copilot --model gpt-5 --allow-all-tools -p \u003cprompt_prefix\u003e; ensure no child.stdin.write invoked for arg; simulate Windows length \u003e limit triggers file fallback message; confirm max_length rejection path still fires before plan build; legacy-format arg mode output lacks banner/directive/metrics. Acceptance: vitest suite passes all new assertions.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T11:16:29.6823677+01:00","updated_at":"2025-11-08T13:14:22.1031232+01:00","closed_at":"2025-11-08T11:29:08.9872021+01:00","dependencies":[{"issue_id":"CDATool-a08","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T11:16:29.6899205+01:00","created_by":"unknown"}]}
{"id":"CDATool-a42","content_hash":"1bd1cb9d0ab506bac918c37fad249eef994bd6219dc44c23e29ffeb5cf8d6691","title":"Feat: Constraint header prefix 'INSTRUCTION ONLY'","description":"Modify each constraint block header to prefix 'CONSTRAINT (INSTRUCTION ONLY  NO DETECTION YET):'. Acceptance: every block updated; no duplication; tests confirm pattern.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-07T22:15:36.5815426+01:00","updated_at":"2025-11-08T06:54:09.0304747+01:00","closed_at":"2025-11-08T06:54:09.0304747+01:00","dependencies":[{"issue_id":"CDATool-a42","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:15:36.5880691+01:00","created_by":"unknown"}]}
{"id":"CDATool-beo","content_hash":"f3decfe1ee20866a56a1433064b329de038deae1d1cd519a914f7e74472ed3d4","title":"CLI: cda describe \u003cid\u003e","description":"Implement cda describe \u003cid\u003e: print full authoritative sections needed for agent (objective/detection_steps/report_fields/pass_criteria/fix_strategy/self_verification_checklist). Acceptance: unknown id =\u003e CONFIG_ERROR; content matches markdown exactly (string equality).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-07T20:34:47.7529594+01:00","updated_at":"2025-11-07T21:28:53.3387612+01:00","closed_at":"2025-11-07T21:28:53.3387612+01:00","dependencies":[{"issue_id":"CDATool-beo","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:34:47.7579582+01:00","created_by":"unknown"}]}
{"id":"CDATool-buk","content_hash":"5d20253f0e5af162f0276027b71cc430f8a14133aca5f4caa0bfd53a19b0113a","title":"Epic: Spec Update 1 - Validate Output Clarity","description":"Epic delivering Spec Update 1: clarify cda validate output as instruction-only. Includes: header disclaimers, analysis_performed \u0026 execution_state flags, sentinel markers, AGENT ACTION REQUIRED \u0026 DO NOT blocks, expanded agent report skeleton fields, constraint header prefix, instruction_format_version constant, docs updates, tests (snapshot + field assertions), optional legacy format flag (deferred). Completion = all feature/task beads closed, tests green, README \u0026 CDA.md updated.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-07T22:13:53.7478274+01:00","updated_at":"2025-11-08T07:00:47.2341472+01:00","closed_at":"2025-11-08T07:00:47.2341472+01:00"}
{"id":"CDATool-c6u","content_hash":"b04ef4fac491eb2e6f15d8f51ec4007b690cea7059d86ddb42bf201c568cb3ad","title":"Task: Self-audit \u0026 success_conditions toggling","description":"Add success_conditions \u0026 self_audit placeholders to skeleton with default false; ensure agent toggles. Acceptance: tests assert defaults and keys exist.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-07T22:17:43.8483851+01:00","updated_at":"2025-11-08T06:55:49.3045125+01:00","closed_at":"2025-11-08T06:55:49.3045125+01:00","dependencies":[{"issue_id":"CDATool-c6u","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:17:43.8530112+01:00","created_by":"unknown"}]}
{"id":"CDATool-ca9","content_hash":"cf490b6a3e24a577e2bb6696d4036db955001dc52fb2cdc3e8b511724788bad2","title":"Implement optional constraint loader + overrides","description":"Parse an optional flag in constraint frontmatter, load bundle defaults, and merge with new constraint_overrides config schema with guardrails for mandatory rules.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-09T11:34:55.4777296+01:00","updated_at":"2025-11-09T11:51:28.7208428+01:00","closed_at":"2025-11-09T11:51:28.7208428+01:00","dependencies":[{"issue_id":"CDATool-ca9","depends_on_id":"CDATool-7um","type":"discovered-from","created_at":"2025-11-09T11:34:55.4829338+01:00","created_by":"unknown"}]}
{"id":"CDATool-chy","content_hash":"4de1a35f49af6cbd4ed8fa36f7bbb37935fe05eb691b0abf1878b27f2f221cd5","title":"Filter instruction pipeline to active constraints","description":"Filter constraints before building packages, enforce errors when no active rules exist, and emit skip logs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-09T11:35:13.1005604+01:00","updated_at":"2025-11-09T12:02:01.0254853+01:00","closed_at":"2025-11-09T12:02:01.0254853+01:00","dependencies":[{"issue_id":"CDATool-chy","depends_on_id":"CDATool-7um","type":"discovered-from","created_at":"2025-11-09T11:35:13.1052703+01:00","created_by":"unknown"}]}
{"id":"CDATool-cjz","content_hash":"dba1ae465cad74a203fc1216dadd3d34e65d50c5d300b4aad82d32c03edfc409","title":"Legacy Format Support (--legacy-format)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-08T09:35:07.3590001+01:00","updated_at":"2025-11-08T10:22:44.7670531+01:00","closed_at":"2025-11-08T10:22:44.7670531+01:00","dependencies":[{"issue_id":"CDATool-cjz","depends_on_id":"CDATool-ryh","type":"discovered-from","created_at":"2025-11-08T09:35:07.3732206+01:00","created_by":"unknown"}]}
{"id":"CDATool-cne","content_hash":"a255e31682e180ffb121bd28df607fb9838e94242973abac9735b7a86faf65ef","title":"Task: README agent section adjustments for 'arg' mode","description":"README adjustments: add arg mode explanation, inline vs file fallback logic, prompt_arg_flag override, guidance to choose stdin when prompt \u003e ~64K, security notice for --allow-all-tools linking to z76. Acceptance: README section contains updated config JSON example and no TODO markers.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T11:16:49.8949004+01:00","updated_at":"2025-11-08T13:14:49.2266839+01:00","closed_at":"2025-11-08T11:30:03.4671724+01:00","dependencies":[{"issue_id":"CDATool-cne","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T11:16:49.9014213+01:00","created_by":"unknown"}]}
{"id":"CDATool-cv3","content_hash":"1a5990131ebb97366a8d0f5d093ae5520fa38f1d9835dadc02cea30608faa37f","title":"Author 8 constraint markdown files","description":"Author 8 constraint markdown files in src/constraints/core/ each with frontmatter + 16 authoritative sections (HEADER..FINAL REPORT SAMPLE). Acceptance: loader parses all; enforcement_order matches recommended sequential list; missing section fails tests.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T20:32:44.4980551+01:00","updated_at":"2025-11-07T21:09:04.6298719+01:00","closed_at":"2025-11-07T21:09:04.6298719+01:00","dependencies":[{"issue_id":"CDATool-cv3","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:32:44.5024387+01:00","created_by":"unknown"}]}
{"id":"CDATool-e5g","content_hash":"4a5843f76ab7adefd2b83f8e5da331b9b3f348360646e37233d5737f5a3afbab","title":"Init Enhancements (Second-Person CDA.md + Agents File)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-08T09:34:46.8518074+01:00","updated_at":"2025-11-08T10:36:41.439809+01:00","closed_at":"2025-11-08T10:36:41.439809+01:00","dependencies":[{"issue_id":"CDATool-e5g","depends_on_id":"CDATool-ryh","type":"discovered-from","created_at":"2025-11-08T09:34:46.8623293+01:00","created_by":"unknown"}]}
{"id":"CDATool-e6t","content_hash":"07abf6b793747cd3666d7e32fd6749c29d55a151e1d8da24b8f21d8747b57212","title":"Agent Config: Correct Copilot CLI Invocation","description":"Bug: Copilot agent uses 'gh copilot chat'; correct command is 'copilot' with -p \u003cprompt\u003e. Fix: introduce agent mode 'arg' so prompt passed via -p followed by full prompt string. Update sample config to use command 'copilot', args ['--model','gpt-5','--allow-all-tools'], mode 'arg'. Extend agentConfig to allow 'stdin' | 'arg'. Modify agent execution: if mode 'arg' append ['-p', prompt] and do NOT write to stdin. Tests: dry-run shows command line containing copilot --model gpt-5 --allow-all-tools -p, arg mode does not call child.stdin.write. README updated with corrected usage. Acceptance: all tests green; legacy format still works; max_length enforcement unchanged.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-08T11:11:05.1879317+01:00","updated_at":"2025-11-08T11:49:07.722621+01:00","closed_at":"2025-11-08T11:49:07.722621+01:00","dependencies":[{"issue_id":"CDATool-e6t","depends_on_id":"CDATool-nxa","type":"discovered-from","created_at":"2025-11-08T11:11:05.1965782+01:00","created_by":"unknown"}]}
{"id":"CDATool-g27","content_hash":"f850a2ef5825579720d660d9c7eef2f123f928c0da013d306168b391d9eb0f44","title":"Task: Changelog entry \u0026 version bump for arg mode feature","description":"Changelog \u0026 version bump: add entry under Added listing arg mode support, Windows prompt file fallback, updated configuration options (prompt_arg_flag, prompt_file_arg). Increment package.json minor version. Acceptance: CHANGELOG.md reflects semantic versioning guidelines and references feature bead 2wc.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T11:17:03.6614775+01:00","updated_at":"2025-11-08T13:15:02.1061524+01:00","closed_at":"2025-11-08T11:30:45.5107993+01:00","dependencies":[{"issue_id":"CDATool-g27","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T11:17:03.666029+01:00","created_by":"unknown"}]}
{"id":"CDATool-ga7","content_hash":"a1725818ee19a638e1afd0410e76c4ddd5ca843586aaa55ee4c99c740d28257e","title":"Agent Cmd: Missing Config Fallback Warning \u0026 Test","description":"Implement fallback when cda.agents.json missing: still assemble prompt; print WARNING line; dry-run prints intended command; execution path disabled (no spawn). Tests: simulate absence, assert warning presence, ensure exit code 0, verify prompt includes banner + metrics. Negative test: with --agent \u003cname\u003e and missing file still warns (no CONFIG_ERROR).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:49:24.9417741+01:00","updated_at":"2025-11-08T10:19:24.9879689+01:00","closed_at":"2025-11-08T10:19:24.9879689+01:00","dependencies":[{"issue_id":"CDATool-ga7","depends_on_id":"CDATool-kmz","type":"discovered-from","created_at":"2025-11-08T09:49:24.9531183+01:00","created_by":"unknown"}]}
{"id":"CDATool-gnl","content_hash":"e0ceec593b57ae9a0bd8fc0bf523e02ddb82bf9b8018308a696a7b1ba3dfed6a","title":"Prompt Assembler: Directive Block (Second-Person)","description":"Implement static directive block (You MUST populate..., You MUST NOT claim validation...) appended after instruction package and before metrics. Tests: verify presence, ordering relative to metrics, absence under --legacy-format.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:39:31.5293637+01:00","updated_at":"2025-11-08T10:07:13.0210882+01:00","closed_at":"2025-11-08T10:07:13.0210882+01:00","dependencies":[{"issue_id":"CDATool-gnl","depends_on_id":"CDATool-xfm","type":"discovered-from","created_at":"2025-11-08T09:39:31.5365509+01:00","created_by":"unknown"}]}
{"id":"CDATool-h10","content_hash":"2377b0b5613ae6a624f5eab3511099f90dc147c753004c10c0d73ae69bd7bee6","title":"Feat: Validate header disclaimers \u0026 flags","description":"Add top banner disclaimers: analysis_performed:false, execution_state: unvalidated, instruction-only warning, exit code clarification. Acceptance: validate output shows fields before any constraint blocks.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T22:14:56.6617337+01:00","updated_at":"2025-11-08T06:43:12.8705698+01:00","closed_at":"2025-11-08T06:43:12.8705698+01:00","dependencies":[{"issue_id":"CDATool-h10","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:14:56.6714323+01:00","created_by":"unknown"}]}
{"id":"CDATool-h87","content_hash":"bb8a18928fd31e2fe8f8274ebe0a77b79699c5aec6f7dd52ff95b5082d4089f4","title":"Allow all constraints to be optional","description":"Remove mandatory guardrails so any constraint can be disabled via configuration without errors.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-09T13:38:09.1333615+01:00","updated_at":"2025-11-09T13:38:17.8448255+01:00"}
{"id":"CDATool-h87.1","content_hash":"269fcb270ada980064bd0fa7be7cb030b68982c9f584cb552cae3d09a0bd9240","title":"Flatten constraint enablement logic","description":"Strip optional flag handling, merge bundle enabled state with overrides for every constraint, and ensure zero active constraints triggers the existing error.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-09T13:38:28.9951743+01:00","updated_at":"2025-11-09T13:45:33.7182399+01:00","closed_at":"2025-11-09T13:45:33.7182399+01:00"}
{"id":"CDATool-h87.2","content_hash":"8cd2864c61866f95fa17383263ba80d59bd65b85f76762badcdd94272a05d549","title":"Refresh CLI UX for fully optional constraints","description":"Collapse cda list status column to active/disabled, update describe/validate/agent errors for disabled constraints, and adjust skip logging text.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T13:38:49.268687+01:00","updated_at":"2025-11-09T13:49:40.9049341+01:00","closed_at":"2025-11-09T13:49:40.9049341+01:00"}
{"id":"CDATool-h87.3","content_hash":"b5365501806600bb011b18aceeb3aaa352812959022266bea1e61a3fcef99635","title":"Update docs and scaffolding for fully optional constraints","description":"Revise README, specifications, and CDA.md generator to remove mandatory language and show sample config with disable-any behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T13:39:09.7040652+01:00","updated_at":"2025-11-09T13:51:58.7572087+01:00","closed_at":"2025-11-09T13:51:58.7572087+01:00"}
{"id":"CDATool-h87.4","content_hash":"ed06a508454f632a850328ed2fb54c4fd20cbeb96fc5cf07441201f86ec6910e","title":"Rebaseline tests for fully optional constraints","description":"Adjust unit/integration tests for new status output, allow disabling formerly mandatory constraints, and add fixtures covering all-disabled scenarios.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-09T13:39:28.9665237+01:00","updated_at":"2025-11-09T13:48:17.4526461+01:00"}
{"id":"CDATool-h87.5","content_hash":"1f81e403a956102f40b67d552218ddfdce31c0ae39696a395ec60ece429e1d23","title":"Publish release notes for fully optional constraints","description":"Add changelog entry, bump package version, and highlight fully optional behavior plus upgrade guidance.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T13:39:48.6113824+01:00","updated_at":"2025-11-09T13:39:59.0331178+01:00"}
{"id":"CDATool-hc4","content_hash":"489953601715c5f6a31818a04882a70810e36e488c8ccbe03b9899a9de83b440","title":"Test Suite (Config, Prompt, MaxLength, Echo, Legacy)","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-08T09:35:46.2307623+01:00","updated_at":"2025-11-08T10:15:54.1517486+01:00","closed_at":"2025-11-08T10:15:54.1517486+01:00","dependencies":[{"issue_id":"CDATool-hc4","depends_on_id":"CDATool-ryh","type":"discovered-from","created_at":"2025-11-08T09:35:46.2373152+01:00","created_by":"unknown"}]}
{"id":"CDATool-he5","content_hash":"6f55b3b2d572675c8e2c77800200b0124f38bd52f593acc92353d95686d3098a","title":"Init: generate CDA.md content","description":"Implement CDA.md generation (invoked by init): include overview, workflow checklist (exact authoritative wording), constraint quick reference with objective + enforcementOrder, full AEP summaries. Acceptance: generated file consistent after multiple runs (idempotent).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-07T20:39:56.7107865+01:00","updated_at":"2025-11-07T21:22:19.8033979+01:00","closed_at":"2025-11-07T21:22:19.8033979+01:00","dependencies":[{"issue_id":"CDATool-he5","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:39:56.7157873+01:00","created_by":"unknown"}]}
{"id":"CDATool-i04","content_hash":"955ccd961fd2e6c76cf2ee9400317c0fc8322c34b35caaa826f2feb2900c6b9d","title":"Tests: snapshot instruction packages","description":"Add snapshot tests: capture batch and single instruction packages with runId stubbed. Acceptance: snapshots stable; diff reflects intentional schema changes only.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T20:38:40.7665251+01:00","updated_at":"2025-11-07T21:34:06.6591156+01:00","closed_at":"2025-11-07T21:34:06.6591156+01:00","dependencies":[{"issue_id":"CDATool-i04","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:38:40.7773453+01:00","created_by":"unknown"}]}
{"id":"CDATool-i0q","content_hash":"68c8f57afa0df8cf776b53ae9dbb88d87e24b36f5ea06843f8972b1d931b44b7","title":"CLI: cda validate --constraint \u003cid\u003e","description":"Implement cda validate --constraint \u003cid\u003e: emit single instruction package (runId, mode=single, constraint block, sequential report template). Acceptance: unknown id errors; ordering field matches enforcementOrder of chosen constraint.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T20:35:53.7327093+01:00","updated_at":"2025-11-07T21:25:58.9106254+01:00","closed_at":"2025-11-07T21:25:58.9106254+01:00","dependencies":[{"issue_id":"CDATool-i0q","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:35:53.7390845+01:00","created_by":"unknown"}]}
{"id":"CDATool-juc","content_hash":"1fa84bd4155995eb47f9aef833f4b2d0f0b867a6d590a94c2c1ca2531688b95e","title":"Init: Agents File Creation \u0026 Skip Logic","description":"In init: if --no-agents then skip creation; if file exists output skip notice; else create cda.agents.json with copilot + echo. Tests: skip when flag set, skip when file pre-exists, creation when absent.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:43:37.7548224+01:00","updated_at":"2025-11-08T10:36:06.9425508+01:00","closed_at":"2025-11-08T10:36:06.9425508+01:00","dependencies":[{"issue_id":"CDATool-juc","depends_on_id":"CDATool-e5g","type":"discovered-from","created_at":"2025-11-08T09:43:37.7604979+01:00","created_by":"unknown"}]}
{"id":"CDATool-kf0","content_hash":"7b71c98dd55e32eaff932dda691620d331aedfd65eeeb39e00353fe8790613d1","title":"Scaffold: package.json \u0026 tsconfig","description":"Create baseline Node18 TS project: add package.json (scripts: build,test,dev), tsconfig (strict,declaration), create src/ directory. Acceptance: tsc builds with zero errors; no extraneous deps; version pinned 0.1.0.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-07T20:30:52.0736857+01:00","updated_at":"2025-11-07T21:04:48.3468638+01:00","closed_at":"2025-11-07T21:04:48.3468638+01:00","dependencies":[{"issue_id":"CDATool-kf0","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:30:52.0810172+01:00","created_by":"unknown"}]}
{"id":"CDATool-kmz","content_hash":"5d213f0d90f732537b68ddec34b794c63fd46311898894d322c97b29df869333","title":"Agent Command Execution (Flags, Dry-Run, Stdin Spawn)","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-08T09:34:01.4072945+01:00","updated_at":"2025-11-08T10:19:59.8177938+01:00","closed_at":"2025-11-08T10:19:59.8177938+01:00","dependencies":[{"issue_id":"CDATool-kmz","depends_on_id":"CDATool-ryh","type":"discovered-from","created_at":"2025-11-08T09:34:01.412298+01:00","created_by":"unknown"}]}
{"id":"CDATool-kxs","content_hash":"8fcd8639fad0a41b96ae92b0b64af787efa14eacf8bc5c1fa3d73cfcbbe89b18","title":"Task: Fallback spawn strategy when 'copilot' missing (detect and suggest --agent echo)","description":"Fallback spawn strategy: detect ENOENT on initial copilot spawn; if Windows and no extension, attempt 'copilot.cmd'; if still failing, output actionable guidance (PATH check, config full path). Optionally suggest using '--agent echo' or switching mode to 'stdin'. Acceptance: implementation adds retry logic, enriched error message, tests simulate ENOENT and verify second attempt \u0026 guidance, doc references this behavior; close when code merged.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-08T13:10:24.1858697+01:00","updated_at":"2025-11-08T19:07:06.9973882+01:00","closed_at":"2025-11-08T19:07:06.9973882+01:00","dependencies":[{"issue_id":"CDATool-kxs","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T13:10:24.1944136+01:00","created_by":"unknown"}]}
{"id":"CDATool-llf","content_hash":"e22b693c7bf399341cc145cde65033dac98cc000b733259a4d4a69762dc3513c","title":"Tests: parsing \u0026 packaging integrity","description":"Add vitest suite: tests for success path parse (all constraints), missing section error, ordering stability, reportFields alignment with markdown, runId format. Acceptance: all tests green; negative test asserts thrown error contains offending id.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-07T20:38:15.3545064+01:00","updated_at":"2025-11-07T21:33:26.7636425+01:00","closed_at":"2025-11-07T21:33:26.7636425+01:00","dependencies":[{"issue_id":"CDATool-llf","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:38:15.3627242+01:00","created_by":"unknown"}]}
{"id":"CDATool-m38","content_hash":"2753efe6dfc899d6200b2aa52abba84b002dfecfae56a025ea86c6a2205d34d2","title":"Implement constraintLoader.ts","description":"Implement constraintLoader.ts: read markdown directory, parse frontmatter + required section labels in order, build objects (meta + section maps), validate completeness. Acceptance: returns array sorted by enforcementOrder; throws BUNDLE_ERROR with offending id on missing/duplicate section.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T20:33:11.9699563+01:00","updated_at":"2025-11-07T21:12:44.0682233+01:00","closed_at":"2025-11-07T21:12:44.0682233+01:00","dependencies":[{"issue_id":"CDATool-m38","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:33:11.9776843+01:00","created_by":"unknown"}]}
{"id":"CDATool-m8x","content_hash":"a03fee3b76a095e9db7730a822e26eedbf600fc97b05584a61d38d4e14c1127c","title":"Init: Generate Second-Person CDA.md","description":"Implement CDA.md writer in init: produce all mandatory sections from 7A.7 with 'You MUST' phrasing; overwrite existing file; future enhancement placeholder for compliance scan. Test (integration) later: file contains checklist (10 items).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:43:09.9716426+01:00","updated_at":"2025-11-08T10:32:45.904633+01:00","closed_at":"2025-11-08T10:32:45.904633+01:00","dependencies":[{"issue_id":"CDATool-m8x","depends_on_id":"CDATool-e5g","type":"discovered-from","created_at":"2025-11-08T09:43:09.9765483+01:00","created_by":"unknown"}]}
{"id":"CDATool-m9r","content_hash":"93bdd70da34986d0d1eeb1b7e62ec066bc9ebbdf83635914838b054b3fb81af3","title":"Task: Add AGENT ACTION REQUIRED \u0026 DO NOT blocks","description":"Add AGENT ACTION REQUIRED block (numbered steps) and DO NOT block (negative assertions). Acceptance: both appear once; tests assert presence and key phrases.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-07T22:15:53.1863572+01:00","updated_at":"2025-11-08T06:50:54.1033677+01:00","closed_at":"2025-11-08T06:50:54.1033677+01:00","dependencies":[{"issue_id":"CDATool-m9r","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:15:53.1918993+01:00","created_by":"unknown"}]}
{"id":"CDATool-nxa","content_hash":"bdfa46856aeb781d8b4117c638a793faf6b29a9535cab7ea6a77f190d0f7cd46","title":"Agent Config Loader \u0026 Validation","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-08T09:33:22.1155272+01:00","updated_at":"2025-11-08T09:59:39.319342+01:00","closed_at":"2025-11-08T09:59:39.319342+01:00","dependencies":[{"issue_id":"CDATool-nxa","depends_on_id":"CDATool-ryh","type":"discovered-from","created_at":"2025-11-08T09:33:22.1214547+01:00","created_by":"unknown"}]}
{"id":"CDATool-oba","content_hash":"3c40ca3a90085da0e24de9d7a9075201c4b641e6e4b84dceefb443690f70b84c","title":"CLI: cda init command","description":"Implement cda init: abort if cda.config.json exists; create cda.config.json and generate CDA.md using emitter + loader summaries. Acceptance: second run exits CONFIG_ERROR; CDA.md contains workflow checklist + all constraint summaries in recommended order.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T20:33:56.6775324+01:00","updated_at":"2025-11-07T21:22:34.8511665+01:00","closed_at":"2025-11-07T21:22:34.8511665+01:00","dependencies":[{"issue_id":"CDATool-oba","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:33:56.6841882+01:00","created_by":"unknown"}]}
{"id":"CDATool-pkz","content_hash":"da1c98e6cf8c10c6dfaf93737badb308c42c133eae043d2fa5b2cf0b612c687e","title":"CLI: cda validate batch","description":"Implement cda validate batch: emit header (runId, mode=batch, recommended_order, ignored_paths) then all constraint blocks and unified report template skeleton. Acceptance: deterministic ordering; no repo file scanning; exit 0.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T20:35:25.1721053+01:00","updated_at":"2025-11-07T21:25:47.899394+01:00","closed_at":"2025-11-07T21:25:47.899394+01:00","dependencies":[{"issue_id":"CDATool-pkz","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:35:25.1802001+01:00","created_by":"unknown"}]}
{"id":"CDATool-qi3","content_hash":"7679ffd9b0314f60ab023bff807533504988a0f5e8cf375db1a699d28b1ca4c2","title":"CLI: cda list command","description":"Implement cda list: load constraints, print id,name,enforcementOrder sorted. Acceptance: matches loader output, exit code 0, formatting stable for snapshot test.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-07T20:34:17.8281733+01:00","updated_at":"2025-11-07T21:27:30.1708565+01:00","closed_at":"2025-11-07T21:27:30.1708565+01:00","dependencies":[{"issue_id":"CDATool-qi3","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:34:17.8357871+01:00","created_by":"unknown"}]}
{"id":"CDATool-qpa","content_hash":"893a47ba21dbe74a61caf4153848bdae3cce721cf497124aa69329d8ae903cab","title":"Agent Cmd: Dry-Run \u0026 No-Exec Paths","description":"Dry-run prints entire prompt + command line; no-exec prints only prompt body. Both exit code 0. Tests: verify command line suppressed in no-exec; metrics still present; legacy-format with no-exec omits banner.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T09:41:52.1605407+01:00","updated_at":"2025-11-08T10:17:22.0241276+01:00","closed_at":"2025-11-08T10:17:22.0241276+01:00","dependencies":[{"issue_id":"CDATool-qpa","depends_on_id":"CDATool-kmz","type":"discovered-from","created_at":"2025-11-08T09:41:52.1656314+01:00","created_by":"unknown"}]}
{"id":"CDATool-rjo","content_hash":"bcf1dc337928f31efb0cc1dc9be8c7dea73c1fc59f8bb6a88a70958bdc4e2355","title":"Helper: runId generator","description":"Implement runId generator utility: ISO8601 timestamp + '-' + 6 char base36 random. Acceptance: regex ^[0-9TZ:\\-]+-[0-9a-z]{6}$ passes; collision probability negligible; test mocks time for determinism.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T20:36:20.6266881+01:00","updated_at":"2025-11-07T21:32:16.6025934+01:00","closed_at":"2025-11-07T21:32:16.6025934+01:00","dependencies":[{"issue_id":"CDATool-rjo","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:36:20.6326797+01:00","created_by":"unknown"}]}
{"id":"CDATool-ryh","content_hash":"1b52b82f14901219b52956a57d387051e9945d0944c34cb56572e4c93b5f4bad","title":"SPEC UPDATE 2 Implementation","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-08T09:29:50.3549431+01:00","updated_at":"2025-11-08T10:48:21.4659887+01:00","closed_at":"2025-11-08T10:48:21.4659887+01:00"}
{"id":"CDATool-s2r","content_hash":"4b6aa567afcd5d2ce8f1b24b588495f7a3f90a309899cbca2d35869d15a235a9","title":"Versioning \u0026 maintenance guidance","description":"Document versioning \u0026 maintenance: when to bump tool semantic version vs constraint frontmatter version; regeneration guidance re-running init; future regenerate command placeholder. Acceptance: doc aligns with SPECIFICATION sections 21 \u0026 20.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-07T20:41:14.9911817+01:00","updated_at":"2025-11-07T21:35:52.7756567+01:00","closed_at":"2025-11-07T21:35:52.7756567+01:00","dependencies":[{"issue_id":"CDATool-s2r","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:41:14.9979423+01:00","created_by":"unknown"}]}
{"id":"CDATool-sbo","content_hash":"15f9bf7fa9648988ac40ecd91bb674ae57bfdb09492ac36a3fec7165ec0dca30","title":"Implement instructionEmitter.ts","description":"Implement instructionEmitter.ts: accepts parsed constraints, produces batch (BatchInstructionPackage) and single (SingleInstructionPackage) objects with deterministic ordering, populating reportTemplate skeletons per spec. Acceptance: unit tests confirm structure, ordering, required keys, no code scanning logic present.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T20:33:36.071646+01:00","updated_at":"2025-11-07T21:16:33.1638132+01:00","closed_at":"2025-11-07T21:16:33.1638132+01:00","dependencies":[{"issue_id":"CDATool-sbo","depends_on_id":"CDATool-vs6","type":"discovered-from","created_at":"2025-11-07T20:33:36.0782402+01:00","created_by":"unknown"}]}
{"id":"CDATool-tsu","content_hash":"90109417bf381c3cb43854cf71de8ba2985970fa35162a33c1de5e265931a281","title":"README: Agent Command \u0026 Sample Config Section","description":"Add README section: overview of cda agent, full flag list, dry-run vs no-exec semantics, legacy format note, sample cda.agents.json (copilot + echo), prompt structure explanation (banner-\u003emetadata-\u003einstructions-\u003edirective-\u003epostscript-\u003emetrics). Acceptance: no TODO markers; examples match current formatter output; links to SPECIFICATION_UPDATE2.md sections.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T09:49:52.6894444+01:00","updated_at":"2025-11-08T10:47:13.6688233+01:00","closed_at":"2025-11-08T10:47:13.6688233+01:00","dependencies":[{"issue_id":"CDATool-tsu","depends_on_id":"CDATool-9wz","type":"discovered-from","created_at":"2025-11-08T09:49:52.6981178+01:00","created_by":"unknown"}]}
{"id":"CDATool-u0p","content_hash":"596037b856d6b785e576e14fd2081507c3eed47cad18da9c4c120c3d3134ab4d","title":"Code Annotation: Embed Bead IDs in New Modules","description":"Annotate each new source file (agentConfig.ts, promptAssembler.ts, agent.ts, modified init.ts) with bead IDs in leading comments referencing related tasks/features (e.g., CDATool-619, CDATool-xfm). Acceptance: all modules contain at least one // Beads: \u003cids\u003e line; test files include // Beads-Test: \u003cids\u003e.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-08T09:50:22.4217035+01:00","updated_at":"2025-11-08T10:26:36.8343837+01:00","closed_at":"2025-11-08T10:26:36.8343837+01:00","dependencies":[{"issue_id":"CDATool-u0p","depends_on_id":"CDATool-ryh","type":"discovered-from","created_at":"2025-11-08T09:50:22.4287107+01:00","created_by":"unknown"}]}
{"id":"CDATool-vs6","content_hash":"e3fff7d0f5aec073033cc15cd28f2258fd18f742f78ca4f481dcbaedbc6d195f","title":"Epic: Implement CDA CLI MVP1","description":"Epic covering full MVP1 CDA CLI: deliver deterministic instruction emission (init/list/describe/validate), constraint parsing, batch \u0026 single packages, runId utility, strict error taxonomy, tests (parsing, snapshot), docs (README, CDA.md generation, versioning). Completion = all feature/task beads closed, tests green, CLI commands produce specified outputs.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-07T20:29:51.4779511+01:00","updated_at":"2025-11-07T21:36:27.7956269+01:00","closed_at":"2025-11-07T21:36:27.7956269+01:00"}
{"id":"CDATool-vw2","content_hash":"2b22317605ccc7aae1da5aae601b12d4f91c1076228957c59de2bb6feaeb3e6e","title":"Task: instruction_format_version constant \u0026 plumbing","description":"Introduce instruction_format_version constant (2). Acceptance: validate output prints version; tests assert numeric increment if constant changes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-07T22:16:13.5839553+01:00","updated_at":"2025-11-08T06:52:20.2818728+01:00","closed_at":"2025-11-08T06:52:20.2818728+01:00","dependencies":[{"issue_id":"CDATool-vw2","depends_on_id":"CDATool-buk","type":"discovered-from","created_at":"2025-11-07T22:16:13.587886+01:00","created_by":"unknown"}]}
{"id":"CDATool-xfm","content_hash":"068668328aaa72e53197a979f810bccf3d2a5f207ad1aa638f083d53bf91b787","title":"Prompt Assembler (Banner, Metadata, Directive, Metrics)","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-08T09:33:35.1611066+01:00","updated_at":"2025-11-08T10:05:56.8680801+01:00","closed_at":"2025-11-08T10:05:56.8680801+01:00","dependencies":[{"issue_id":"CDATool-xfm","depends_on_id":"CDATool-ryh","type":"discovered-from","created_at":"2025-11-08T09:33:35.1663194+01:00","created_by":"unknown"}]}
{"id":"CDATool-z76","content_hash":"17659a0e914a2078d2ebceceee1cac27223b18e448688a92cb1391b2dfe6e555","title":"Task: Security disclaimer for --allow-all-tools flag","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T11:17:12.4697662+01:00","updated_at":"2025-11-08T11:30:25.1398688+01:00","closed_at":"2025-11-08T11:30:25.1398688+01:00","dependencies":[{"issue_id":"CDATool-z76","depends_on_id":"CDATool-e6t","type":"discovered-from","created_at":"2025-11-08T11:17:12.4752704+01:00","created_by":"unknown"}]}
